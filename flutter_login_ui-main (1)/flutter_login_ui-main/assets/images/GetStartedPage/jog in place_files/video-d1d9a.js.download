(window.webpackJsonp=window.webpackJsonp||[]).push([[27,41],{381:function(t,e,a){"use strict";a.r(e);var i=a(1),n=a(0),r=(a(6),a(386)),o=a(116),s=a(217);const l="AIzaSyBAdbZ7wy43UhBT3IyxxhhQv_Wnzi_P2mE",c="https://www.googleapis.com/youtube/v3";function d(t){return fetch(t).then(t=>{if(t.ok)return t.json();const e=new Error(`Fetch failure: ${t.status}`);throw e.url=c,e.status=t.status,e}).catch(t=>({error:t}))}var p=a(414),u=a(67);a.d(e,"YouTube",(function(){return x})),a.d(e,"checkCompletion",(function(){return g}));var h=a(2).h;let y=[],m=!1;function f(t){const e=t.match(/PT(\d+)?M?(\d+)?S?/);return t.indexOf("M")?60*e[1]+1*e[2]:e[1]}function g(t,e,a,i){const n=t.getCurrentTime();t[a]=t[a]||{},Object.keys(e).forEach(o=>{if(e[o]<=n&&!t[a][o])switch(t[a][o]=!0,o){case"25":r.a.onTwentyFivePercent({currentMedia:i});break;case"50":r.a.onFiftyPercent({currentMedia:i});break;case"75":r.a.onSeventyFivePercent({currentMedia:i})}})}function b(t,e,a){const i=t.getPlayerState(),n=function(t){const e={};return[25,50,75].forEach(a=>{const i=t*a/100;e[a]=Math.floor(i)}),e}(Math.floor(t.getDuration())),r=e;1!==i||r.timer?(clearInterval(r.timer),r.timer=!1):(clearInterval(r.timer),r.timer=setInterval(()=>{g(t,n,r.videoId,a)},1e3))}window.onYouTubeIframeAPIReady=()=>{m=!0,y.forEach(t=>t()),y=void 0};const v={};function w(t,e){const a=v[t];a&&a.resolve?(a.resolve(e),delete a.resolve):v[t]={load:Promise.resolve(e)}}const I=Object(n.a)('& .inner-wrapper{font-size:0;line-height:0;outline:none;overflow:hidden;position:relative;touch-callout:none;user-select:none;display:block;&::after{background-repeat:no-repeat;background-size:cover;bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0;}> iframe{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;}}display:block;padding-top:0;position:relative;width:100%;'),P="Youtube";class x extends i.Component{constructor(t){super(t),this.getPlayerState=()=>{switch(this.player.getPlayerState()){case 1:return"playing";case 5:return"paused"}},this.onStateChange=t=>{const{currentMedia:e}=this.state;switch(this.player&&b(this.player,this.player.getIframe(),e),t.data){case-1:this.playing=!1;break;case 0:r.a.onOneHundredPercent({currentMedia:e});break;case 1:this.onPlay();break;case 2:this.props.onPause(t);break;case 3:break;case 5:this.loadPlaylist();break;default:return null}return null},this.onPlay=()=>{if(this.playing)return;this.props.onPlay&&this.props.onPlay(),this.playing=!0;const{playlist:t,currentMedia:e}=this.state,a=this.player.getPlaylistIndex();-1===a?r.a.onPlay({currentMedia:e}):(this.setState({playingIndex:a,currentMedia:t[a]}),r.a.onPlay({currentMedia:t[a]}),this.player&&b(this.player,this.player.getIframe(),t[a]))},this.onReady=()=>{const{mediaId:t,type:e}=this.props;if(this.props.onReady&&this.props.onReady(),"playlist"===e)w(t,`playlist ${t}`),this.player.cuePlaylist({listType:"playlist",list:t});else{const e=this.player.getVideoData().title;w(t,e),this.setState({currentMedia:{category:P,title:e}})}},this.updatePlayer=t=>{this.playing=!1,this.player.playVideoAt(t)},this.init=()=>{const{playerId:t}=this.state,{didMountCallback:e=(()=>{}),mediaId:a}=this.props;this.player=new YT.Player(t,{height:"100%",width:"100%",events:{onStateChange:this.onStateChange,onReady:this.onReady},...this.sourceSetup()}),e(this.player),window.HL.jwp[a]=this};const{mediaId:e,parentKey:a,title:i}=t;this.state={reactYoutubeReady:!1,playerId:`youtube-${e}-${a}`,playlist:[{category:P,title:i}],playingIndex:null,currentMedia:{category:P,title:i}},this.playing=!1}componentDidMount(){void 0===window.YT&&Object(o.a)("https://www.youtube.com/iframe_api").catch(()=>{}),m?this.init():y.push(this.init)}loadPlaylist(){const{mediaId:t}=this.props;return(e=t,d(`${c}/playlistItems?part=contentDetails&maxResults=50&playlistId=${e}&key=${l}`)).then(({items:t})=>(function(t){return d(`${c}/videos?part=contentDetails,snippet&id=${encodeURI(t)}&key=${l}`)})(t.map(t=>t.contentDetails.videoId))).then(({items:t})=>{const e=t.map(t=>({duration:f(t.contentDetails.duration),title:t.snippet.title,image:t.snippet.thumbnails.high.url,mediaid:t.id}));this.setState({playlist:e,reactYoutubeReady:!0})});var e}sourceSetup(){const{mediaId:t,type:e}=this.props;return"playlist"===e?{playerVars:{autoplay:0,controls:1}}:{videoId:t}}render(){const{transcripts:t,title:e,type:a,className:i}=this.props,{playerId:r,playlist:o,playingIndex:l,reactYoutubeReady:c}=this.state;return h("span",{className:Object(n.b)([I,i,"youtube-container"]),css:[{"& .inner-wrapper":{paddingTop:"56.25%"}}]},h("span",{tabIndex:"-1",className:"inner-wrapper"},h("div",{id:r})),"playlist"===a&&c&&h(p.a,{css:"margin-top: 30px",currentlyPlayingIndex:l,handleItemClick:this.updatePlayer,playlist:o}),t&&t.length>0&&h(s.a,{title:e,content:t[0]}))}}e.default=Object(u.a)((t,e)=>{if(t.mediaId)return function(t){let e=v[t];return e||((e=v[t]={}).load=new Promise(t=>{e.resolve=t})),e.load}(t.mediaId).then(a=>({category:`Video - ${P}`,action:a||t.mediaId,label:e}))},x)},468:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a(1),r=a(392),o=a(119),s=a(67),l=a(31),c=a(11),d=a(15),p=a(2).h;const u=["rightRailVideoIndex0","firstQuarter","middle","bottom"];var h={margin:"1px 0 0 0",marginTop:"15px",marginBottom:"15px",fontFamily:"Proxima Nova",fontStyle:"normal",fontWeight:400,color:"periwinkle",fontSize:"12px",lineHeight:"15px"};const y=t=>{const e=t||{};return p(d.e,{...e,css:h})};var m={margin:"1px 0 0 0",fontFamily:"Proxima Nova",fontStyle:"normal",fontWeight:700,fontSize:"18px",marginBottom:"15px",lineHeight:"22px"};const f=t=>{const e=t||{};return p(d.e,{...e,css:m})},g=Object(i.a)("color:gray-dark;font-size:14px;display:block;padding:12px 20px 24px 0;text-decoration:underline;@media desktop{padding-bottom:28px;}");e.default=Object(c.h)(Object(s.a)((t,e)=>Object(o.f)(t.campaign,e),(function({contentId:t,title:e,options:a,articlePlacement:i,contentMeta:o,articleMatching:s,callToAction:c,callToActionURL:d}){let h;if(h=s?{...a,articleMatching:s}:a,Object.keys(window.HL.jwp).length>0&&"rightRailVideoIndex0"===i){let a;a=!!o.hasEmbeddedJWPlayer&&!!window.HL.ads.articleContainsTeadsAd;const s={...h,autoplay:a};return p(n.Fragment,null,p(r.default,{mediaId:t,title:e,options:s,articlePlacement:i,contentMeta:{...o,byline:!1},videoStrategy:"discover"}),p(n.Fragment,null,p(y,null,"RELATED VIDEO"),p(f,null,e),p(l.a,{href:d,title:c})))}return p(n.Fragment,null,p(r.default,{mediaId:t,title:e,options:h,articlePlacement:i,videoStrategy:"discover"}),c&&d&&u.includes(i)&&p(l.a,{style:g,icon:!1,href:d,title:c}))})))},700:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return r}));var i=a(392),n=a(2).h;function r({id:t,playlist:e,title:a,skipperiod:r,videotrackers:o,transcripts:s,enablepostroll:l,autoplay:c}){return n(i.default,{mediaId:t,title:a,type:void 0!==e?"playlists":"media",adSkipOffset:r,videoTrackers:o,transcripts:s,enablePostRoll:l,options:{autoplay:c}})}}}]);
//# sourceMappingURL=video-d1d9a.js.map